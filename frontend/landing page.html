<!DOCTYPE html>
<html>

<!-- <div id="like_button_container"></div>
 -->


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

<link rel = "stylesheet" href = "css.css" >

<head>
  <meta name="google-signin-client_id" content="YOUR_CLIENT_ID.apps.googleusercontent.com">
</head>

<body >


<img src= "logo.png"> 


<button type="button" class="btn btn-success" onclick="location.href = 'postpage.html'">POST</button>


<button type="button" class="btn btn-danger">SUBSCRIBE</button>
<button type="button" class="btn btn-warning">UNSUSCRIBE</button>

<!-- these link buttons are just to move the last button -->

<button type="button" class="btn btn-link"></button>
<button type="button" class="btn btn-link"></button>
<button type="button" class="btn btn-link"></button>
<button type="button" class="btn btn-link"></button>
<button type="button" class="btn btn-link"></button>
<button type="button" class="btn btn-link"></button>
<button type="button" class="btn btn-link"></button>
<button type="button" class="btn btn-link"></button>
<button type="button" class="btn btn-link"></button>
<button type="button" class="btn btn-link"></button>
<button type="button" class="btn btn-link"></button>
<button type="button" class="btn btn-link"></button>
<button type="button" class="btn btn-link"></button>
<button type="button" class="btn btn-link"></button>
<button type="button" class="btn btn-link"></button>
<button type="button" class="btn btn-link"></button>
<button type="button" class="btn btn-link"></button>
<button type="button" class="btn btn-link"></button>
<button type="button" class="btn btn-link"></button>
<button type="button" class="btn btn-link"></button>
<button type="button" class="btn btn-link"></button>
<button type="button" class="btn btn-link"></button>
<button type="button" class="btn btn-link"></button>
<button type="button" class="btn btn-link"></button>
<button type="button" class="btn btn-link"></button>
<button type="button" class="btn btn-link"></button>
<button type="button" class="btn btn-link"></button>
<button type="button" class="btn btn-link"></button>
<button type="button" class="btn btn-link"></button>
<button type="button" class="btn btn-link"></button>
<button type="button" class="btn btn-link"></button>
<button type="button" class="btn btn-link"></button>


<button type="button" class="btn btn-info">LOGIN</button>

<br>
<br>



<div id="blogPost"></div>

<script> 

	function createCORSRequest(method, url) {
  		var xhr = new XMLHttpRequest();
	  if ("withCredentials" in xhr) {

	    // Check if the XMLHttpRequest object has a "withCredentials" property.
	    // "withCredentials" only exists on XMLHTTPRequest2 objects.
	    xhr.open(method, url, true);

	  } else if (typeof XDomainRequest != "undefined") {

	    // Otherwise, check if XDomainRequest.
	    // XDomainRequest only exists in IE, and is IE's way of making CORS requests.
	    xhr = new XDomainRequest();
	    xhr.open(method, url);

	  } else {

	    // Otherwise, CORS is not supported by the browser.
	    xhr = null;

	  }
	  return xhr;
	}

	url = "http://localhost:5000/sample_url"
	const xhr = createCORSRequest('GET',url);
	const blog_post = document.getElementById("blogPost");
	xhr.open('GET', url, true)
	xhr.onload = function(){
		if (this.status == 200){
			subPosts = xhr.responseText.split('</p>');
			innerHtml = "";
			for( i = 0; i<subPosts.length && i < 5; i++){
				innerHtml= innerHtml +' </p> '+subPosts[i];
			}
			var num = subPosts.length;
			blog_post.innerHTML=innerHtml;//innerHtml+'</p>';
		}
		else{

			console.warn("Lets assume this works")
		}
	}
	xhr.send();
	
function morePosts()  {
	for(j = 5 ; j < subPosts.length-1; j++){
		innerHtml = innerHtml +' </p> '+ subPosts[j];
	}
	blog_post.innerHTML=innerHtml;
	var x = document.getElementById("read btn");
	x.style.display = "none";

//xhr.send();
}

</script>

<button type="button" class="btn btn-link" id = "read btn" onclick="morePosts()">Read All Posts</button>

</body>

</html>